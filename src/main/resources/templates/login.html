<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{auth-layout :: authLayout('Login', ~{::section})}">
<section class="space-y-8 pt-4 pb-2">
    <div>
        <div class="text-sm uppercase tracking-[0.2em] text-ink/60">Welcome back</div>
        <div class="font-display text-3xl">Sign in</div>
        <p class="mt-2 text-sm text-ink/70">Use your email and password to continue.</p>
    </div>

    <div class="space-y-3" th:if="${loginError}">
        <div class="rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-800">
            Invalid email or password. Please try again.
        </div>
    </div>
    <div class="space-y-3" th:if="${registered}">
        <div class="rounded-2xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-800">
            Registration successful. You can sign in now.
        </div>
    </div>
    <div class="space-y-3" th:if="${loggedOut}">
        <div class="rounded-2xl border border-ink/10 bg-white p-4 text-sm text-ink/70">
            You have been logged out.
        </div>
    </div>

    <form class="space-y-5" th:action="@{/login}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <div class="flex flex-col gap-2">
            <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="username">Email</label>
            <input class="input" id="username" name="username" type="email" autocomplete="username" required>
        </div>
        <div class="flex flex-col gap-2">
            <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="password">Password</label>
            <input class="input" id="password" name="password" type="password" autocomplete="current-password" required>
        </div>
        <button class="btn-primary w-full" type="submit">Sign in</button>
    </form>

    <div class="text-sm text-ink/70 pt-2">
        No account yet?
        <a class="font-semibold text-ink underline" href="/register">Create one</a>
    </div>
</section>
</html>
