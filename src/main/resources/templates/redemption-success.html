<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout('Redemption Success', ~{::section})}">
<section class="space-y-8">
    <div class="card p-8 bg-emerald-50 border border-emerald-200 reveal">
        <div class="text-sm uppercase tracking-[0.2em] text-emerald-700">Success</div>
        <div class="font-display text-3xl text-emerald-900">Reward Redeemed</div>
        <p class="mt-2 text-sm text-emerald-900/80">Your redemption was recorded in the ledger.</p>

        <div class="mt-6 grid gap-3 text-sm">
            <div class="flex justify-between border-b border-emerald-200/70 py-2">
                <span>Redemption Id</span>
                <span th:text="${redemption.redemptionId}">-</span>
            </div>
            <div class="flex justify-between border-b border-emerald-200/70 py-2">
                <span>Reward Id</span>
                <span th:text="${redemption.rewardId}">-</span>
            </div>
            <div class="flex justify-between border-b border-emerald-200/70 py-2">
                <span>Redemption Code</span>
                <span th:text="${redemption.redemptionCode}">-</span>
            </div>
            <div class="flex justify-between border-b border-emerald-200/70 py-2">
                <span>Points Spent</span>
                <span th:text="${redemption.pointsSpent}">0</span>
            </div>
            <div class="flex justify-between border-b border-emerald-200/70 py-2">
                <span>Balance After</span>
                <span th:text="${redemption.balanceAfter}">0</span>
            </div>
        </div>
    </div>

    <div class="card p-6 reveal">
        <div class="text-sm uppercase tracking-[0.2em] text-ink/60">QR-Code</div>
        <div class="font-display text-xl">Zum Einl√∂sen scannen</div>
        <p class="mt-2 text-sm text-ink/60">Der Code kann in der Mobile-App oder am Restaurantterminal gescannt werden.</p>
        <div class="mt-6 flex flex-col items-center gap-4">
            <img class="h-56 w-56 rounded-3xl border border-ink/10 bg-white p-3"
                 th:if="${qrCodeDataUri != null}"
                 th:src="${qrCodeDataUri}"
                 alt="Redemption QR Code">
            <div class="text-sm text-ink/60" th:if="${qrPayload != null}">
                Payload: <span class="font-mono" th:text="${qrPayload}">-</span>
            </div>
        </div>
    </div>

    <div class="flex gap-3">
        <a class="btn-secondary" th:href="@{/customer/rewards(accountId=${accountId})}">Back to Rewards</a>
        <a class="btn-primary" th:href="@{/customer/dashboard(accountId=${accountId})}">View Dashboard</a>
    </div>
</section>
</html>
