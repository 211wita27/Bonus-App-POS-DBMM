<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{auth-layout :: authLayout('Register', ~{::section})}">
<section class="space-y-8">
    <div>
        <div class="text-sm uppercase tracking-[0.2em] text-ink/60">Join the program</div>
        <div class="font-display text-3xl">Create your account</div>
        <p class="mt-2 text-sm text-ink/70">Use your restaurant code to connect to the right loyalty program.</p>
    </div>

    <div class="rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-800" th:if="${registrationError}">
        <span th:text="${registrationError}">Registration failed.</span>
    </div>

    <form class="grid gap-5" th:action="@{/register}" th:object="${registration}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <div class="grid gap-4 md:grid-cols-2">
            <div class="flex flex-col gap-2">
                <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="firstName">First name</label>
                <input class="input" id="firstName" th:field="*{firstName}" placeholder="Max" required>
                <span class="text-xs text-red-600" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Error</span>
            </div>
            <div class="flex flex-col gap-2">
                <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="lastName">Last name</label>
                <input class="input" id="lastName" th:field="*{lastName}" placeholder="Muster" required>
                <span class="text-xs text-red-600" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Error</span>
            </div>
        </div>

        <div class="flex flex-col gap-2">
            <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="email">Email</label>
            <input class="input" id="email" th:field="*{email}" type="email" placeholder="max@example.com" required>
            <span class="text-xs text-red-600" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Error</span>
        </div>

        <div class="flex flex-col gap-2">
            <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="phoneNumber">Phone (optional)</label>
            <input class="input" id="phoneNumber" th:field="*{phoneNumber}" placeholder="+43 664 1234567">
        </div>

        <div class="grid gap-4 md:grid-cols-2">
            <div class="flex flex-col gap-2">
                <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="password">Password</label>
                <input class="input" id="password" th:field="*{password}" type="password" autocomplete="new-password" required>
                <span class="text-xs text-red-600" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Error</span>
            </div>
            <div class="flex flex-col gap-2">
                <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="confirmPassword">Confirm password</label>
                <input class="input" id="confirmPassword" th:field="*{confirmPassword}" type="password" autocomplete="new-password" required>
                <span class="text-xs text-red-600" th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}">Error</span>
            </div>
        </div>

        <div class="flex flex-col gap-2">
            <label class="text-xs uppercase tracking-[0.2em] text-ink/60" for="restaurantCode">Restaurant code</label>
            <input class="input" id="restaurantCode" th:field="*{restaurantCode}" placeholder="DEMO" required>
            <span class="text-xs text-red-600" th:if="${#fields.hasErrors('restaurantCode')}" th:errors="*{restaurantCode}">Error</span>
        </div>

        <div class="text-xs text-ink/60">
            Password must include uppercase, lowercase, and a number.
        </div>

        <button class="btn-primary w-full" type="submit">Create account</button>

        <div class="text-sm text-ink/70 text-center">
            Already registered?
            <a class="font-semibold text-ink underline" href="/login">Sign in</a>
        </div>
    </form>
</section>
</html>
